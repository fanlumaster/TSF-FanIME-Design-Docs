# 更加具体的开发任务

## 2025.3 and 2025.4

1. 接收我的 neovim 的一个插件 Post 过来的 Message，将输入法切换到输入法的英文状态。

2. Shift + 小写字母不要直接上屏大写英文字母。而是应该同样进入 composing 状态。(**yes**)

3. 没有获得输入框的时候，不要把按键吃掉。可以参考微软拼音的实现，把模式调整到英文模式，然后，直接再调回来。或者，也可以把相应的字符 sendkeys 过去。(**yes**)

4. 在中文状态下的 composing 状态下，按下 Shift 切换到英文，需要处理这个事件。需要将原有的拼音序列给上屏。(**yes**)

5. 输入法候选框的屏幕边界判断。(**yes**)

6. 输入法候选框 size 的自适应调整。(**yes**，其实是这个暂时不需要。所以直接设置一个很大的值即可)

7. (FanIME-UI)默认的情况下，如果鼠标悬浮到了候选框上，不要高亮该候选项，只有当鼠标动弹之后才触发高亮效果。同时，默认的时候，鼠标不应该显示，只有鼠标移动的时候才予以显示。(**yes**)

8. 改造 TSF dll 中的 log 系统。对，应该使用 spdlog 来记录日志。在 TSF 加载的时候初始化一下即可。(**no**，没法改。暂时不好处理。或许之后可以尝试在 dll 加载的的时候去做相应的处理。)

9. 中文标点的处理，目前中文模式下，全角的中文的标点有问题。

10. 能否对 VSCode 这类特定的软件处理一下，不要插入 preedit 到文本编辑处。

11. 双拼纠错；全拼纠错；可以参考微软拼音的选项，可以把相应的部分勾选上。也可以参考安卓的小企鹅输入法的默认的双拼的纠错的设置。拼音纠错没有什么开源的较好的实现，但是英文单词是有的，所以，可以从这个方面着手。

12. 有些应用譬如 tg 没法嵌入 preedit，或者说，不太容易嵌入 preedit，那么，可以折中一下，无论拼音是多长，我们都只嵌入一个字符譬如下划线字符(当然啦，人眼是看不到的)。

13. 开始菜单无法注入 dll，可能是需要数字签名。同时，候选窗口要可以在所有的窗口中都可以保持置顶，这个也需要数字签名。

14. 火狐系浏览器在没有焦点时，输入法的图标会变成不可用状态，这个操作本身没有什么问题，需要做的是优化托盘区状态栏的显示的图标信息。

15. 逗号和句号在 composing 时，可以直接上屏第一个选项，以及标点本身。注意，是中文标点。

16. 是否要支持智能的标点呢？我指的是，英文和数字的后面接的是英文的标点。
