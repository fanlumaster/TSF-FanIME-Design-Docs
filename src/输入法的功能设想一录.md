在 Windows 的输入法框架下可以实现的各种功能性的想法。

暂时先讨论小鹤双拼模式下的功能设计。

## 用大写字母起头来开启不同的功能模式

`I` 打头：对应拆的 `ch`，即，拆字功能。遇到我们不认识的生僻字，譬如，朓这个字，可以使用 yue 和 zhao 这两个左右部分的字的拼音来检索。

## 在输入单个字符的之后，可以附着一些额外的符号在后面

因为根据单个字符 generate 出来的单个汉字是硬编码的，而这个硬编码出来的候选项我们大部分时候是用不到的。

## 针对不同专业人群的专业词库

可以剥离出一些模块，比如，生物医学专业、生科专业、化学专业、土木专业、新闻专业等等，我们可以额外凝聚出一个模块，比如，输入一些化学公式，我们可以想象怎么可以让它变得更加简单。

## 历史模式

譬如，可以借鉴 telescope 的搜索功能，我们使用某些快捷键，可以将我们之前输入过的一些历史拼音字符串给缓存起来，然后可以在需要的时候调出来。（这个功能很不重要）

## preedit 的相关编辑操作

preedit 要可以改，而且要可以很方便地改。比如，除了可以使用左右箭头来进行跳转，还可以使用使用快捷键，譬如 Ctrl + 数字来跳转到某一个 char 的 index 的后面。

嵌在候选框中的拼音字符串，我们需要加一个 caret 来进行指示，以便我们可以修改我们想要检索的拼音。

## snippet 功能

有一些常用的短语或者字串可以自定义。

## 诗词模式

诗词的数据库是放在云端，要尽可能云集历朝历代所有的词句。

## AI 集成

云端训练一个小模型，辅助用户输入。

这里我们还需要想清楚一个伦理问题，我们使用 gpt 来辅助用户输入并非是为了弱化用户自己的思考能力，而是为了 extend，我们知道，大部分人的文学造诣、语言造诣是不高的，同样的，大部分人的识别能力确实很好的，说出一句话，都可以知道是好话还是孬话。所以，我们设计这个功能反而可以提升人文素养，进而可以引起创新。

此处想到一个衍生产品：一个是字典，这个是早就有设想的。另一个是类似于微软的 powertoys 中的 power runner，但是，要更加地客制化，可以很好地和我地字典程序融合在一起，给语言爱好者、文字爱好者、文学爱好者更加便捷的入口来查询自己心中所想。此外，这个 runner 也要支持很多其他的功能，比如快速进行谷歌搜索之类，当然，这就涉及到另外一个独立产品的设计了，不在这里赘述。

### 作家模式

利用开源的语料训练出我们写作时可以借鉴的其他作家的曾经写过的 token。

## 语音输入

这个也需要使用大模型。

快捷呼出这个功能的操作要做好，比如，使用 Ctrl + Win + LAlt 按下的时候自动开始读取语音输入，然后开始识别。

一、要支持普通话。

二、要支持苏北话。

三、再考虑其他。

## 类同声传译

我们在输入一串中文时，可以给出它的不同的翻译的版本作为候选项供用户选择，比如，机械翻译版本，比如，大模型翻译版本。